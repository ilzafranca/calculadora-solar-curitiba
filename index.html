import streamlit as st
import math

st.set_page_config(page_title="Simulador Solar Curitiba", page_icon="ğŸŒ")

st.title("ğŸŒ Simulador de Energia Solar - Curitiba")
st.markdown("""
Este simulador estima o nÃºmero de placas solares necessÃ¡rias, o investimento aproximado e o tempo de retorno com base no seu consumo mensal (kWh).
""")

# Entradas do usuÃ¡rio
consumo_kwh = st.number_input("âš¡ Consumo mensal (kWh):", min_value=1, step=1, value=64)
tipo_imovel = st.selectbox("ğŸ  Tipo de imÃ³vel:", ["Residencial", "Comercial", "Industrial"])

# PreÃ§o mÃ©dio por placa instalada em Curitiba
preco_placa = 1600  # R$ por placa
producao_por_placa = 50  # kWh/mÃªs por placa solar padrÃ£o
custo_kwh = 0.77  # R$ por kWh (baseado na conta da Copel)

# CÃ¡lculos
placas_necessarias = math.ceil(consumo_kwh / producao_por_placa)
investimento_total = placas_necessarias * preco_placa
economia_mensal = consumo_kwh * custo_kwh
retorno_anos = 0 if economia_mensal == 0 else investimento_total / (economia_mensal * 12)

# Resultados
st.markdown(f"""
<div style="background-color:#eaffea; padding:20px; border-radius:10px;">
<b>âš¡ Consumo mensal:</b> {consumo_kwh} kWh  <br>
<b>ğŸ  Tipo de imÃ³vel:</b> {tipo_imovel}  <br>
<b>ğŸ”‹ Placas necessÃ¡rias:</b> {placas_necessarias}  <br>
<b>ğŸ’° Investimento estimado:</b> R$ {investimento_total:,.2f}  <br>
<b>ğŸ“‰ Economia mensal:</b> R$ {economia_mensal:,.2f}  <br>
<b>â³ Retorno estimado:</b> {retorno_anos:.1f} anos
</div>
""", unsafe_allow_html=True)

# RodapÃ©
st.markdown("---")
st.markdown("Desenvolvido por **Lalinha ğŸŒ» - Curitiba 2025**")
