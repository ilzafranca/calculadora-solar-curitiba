import streamlit as st
import math

st.set_page_config(page_title="Simulador Solar Curitiba", page_icon="ğŸ”†")
st.title("ğŸ”† Simulador de Energia Solar - Curitiba")
st.markdown("""
Este simulador estima o nÃºmero de placas solares necessÃ¡rias, o investimento aproximado e o tempo de retorno com base no seu consumo mensal.
""")

# Entradas do usuÃ¡rio
consumo_kwh = st.number_input("âš¡ Consumo mensal (kWh):", min_value=1, step=1, value=64)
tipo_imovel = st.selectbox("ğŸ  Tipo de imÃ³vel:", ["Residencial", "Comercial", "Industrial"])

# PreÃ§o mÃ©dio por placa instalada em Curitiba (baseado em fontes de mercado)
preco_placa = 1600

# ConsideraÃ§Ãµes gerais
producao_por_placa = 50  # kWh/mÃªs por placa solar padrÃ£o
custo_kwh = 0.77  # R$ por kWh (estimativa baseada na conta de energia Copel)

# CÃ¡lculos
placas_necessarias = math.ceil(consumo_kwh / producao_por_placa)
investimento_total = placas_necessarias * preco_placa
economia_mensal = consumo_kwh * custo_kwh

if economia_mensal == 0:
    retorno_anos = 0
else:
    retorno_anos = investimento_total / (economia_mensal * 12)

# Resultados
st.markdown("""
<div style="background-color:#eaffea; padding:20px; border-radius:10px">
    <p><b>âš¡ Consumo mensal:</b> {0} kWh</p>
    <p><b>ğŸ  Tipo de imÃ³vel:</b> {1}</p>
    <p><b>ğŸ”‹ Placas necessÃ¡rias:</b> {2}</p>
    <p><b>ğŸ’° Investimento estimado:</b> R$ {3:,.2f}</p>
    <p><b>ğŸ“‰ Economia mensal:</b> R$ {4:,.2f}</p>
    <p><b>â³ Retorno estimado:</b> {5:.1f} anos</p>
</div>
""".format(consumo_kwh, tipo_imovel, placas_necessarias, investimento_total, economia_mensal, retorno_anos), unsafe_allow_html=True)

# RodapÃ©
st.markdown("""
---
Desenvolvido por Lalinha â˜€ï¸ Curitiba 2025
""")
