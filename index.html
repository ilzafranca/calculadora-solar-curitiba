import streamlit as st
import math

# Configuração da página
st.set_page_config(page_title="Simulador Solar Curitiba", page_icon="🌞")
st.title("🌞 Simulador de Energia Solar - Curitiba")

# Introdução
st.markdown("""
Este simulador estima o número de placas solares necessárias, o investimento aproximado e o tempo de retorno com base no seu consumo mensal (kWh).
""")

# Entradas do usuário
consumo_kwh = st.number_input("⚡ Consumo mensal (kWh):", min_value=1, step=1, value=64)
tipo_imovel = st.selectbox("🏡 Tipo de imóvel:", ["Residencial", "Comercial", "Industrial"])

# Parâmetros do cálculo
preco_placa = 1600  # R$ por placa instalada (média Curitiba)
producao_por_placa = 50  # kWh/mês por placa solar padrão
custo_kwh = 0.77  # R$ por kWh (Copel)

# Cálculos
placas_necessarias = math.ceil(consumo_kwh / producao_por_placa)
investimento_total = placas_necessarias * preco_placa
economia_mensal = consumo_kwh * custo_kwh
retorno_anos = 0 if economia_mensal == 0 else investimento_total / (economia_mensal * 12)

# Resultados
st.markdown(f"""
<div style="background-color:#eaffea; padding:20px; border-radius:10px;">
<b>⚡ Consumo mensal:</b> {consumo_kwh} kWh  <br>
<b>🏠 Tipo de imóvel:</b> {tipo_imovel}  <br>
<b>🔋 Placas necessárias:</b> {placas_necessarias}  <br>
<b>💰 Investimento estimado:</b> R$ {investimento_total:,.2f}  <br>
<b>📉 Economia mensal:</b> R$ {economia_mensal:,.2f}  <br>
<b>⏳ Retorno estimado:</b> {retorno_anos:.1f} anos
</div>
""", unsafe_allow_html=True)

# Rodapé
st.markdown("----")
st.markdown("Desenvolvido por **Lalinha 🌻** - Curitiba 2025")
